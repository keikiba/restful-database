<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>top page</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <style>
  h1 { font-size:18pt; font-weight:bold; color:gray; }
  body { font-size:13pt; color:gray; margin:5px 25px; }
  pre { font-size:13pt; color:gray; padding:5px 10px; border:1px solid gray; }
  tr { magin:5px; }
  th { padding:5px; color:white; background:darkgray; }
  td { padding:5px; color:black; background:#f0f0f0; }
  .err { color:red; }
  </style>
</head>
<body>
  <h1 th:text="#{content.title}">Helo page</h1>
  <p th:text="${msg}"></p>
  <table>
    <form method="post" action="/repository" th:object="${formModel}">
      <ul>
        <li th:each="error : ${#fields.detailedErrors()}" class="err" th:text="${error.message}" />
      </ul>
      <tr><td><label for="name">名前</label></td>
        <td><input type="text" name="name" th:field="*{name}" th:errorclass="err" />
        <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" th:errorclass="err">
        </div>
        </td></tr>
      <tr><td><label for="age">年齢</label></td>
        <td><input type="text" name="age" th:field="*{age}" th:errorclass="err" />
        <div th:if="${#fields.hasErrors('age')}" th:errors="*{age}" th:errorclass="err">
        </div>
        </td></tr>
      <tr><td><label for="mail">メール</label></td>
        <td><input type="text" name="mail" th:field="*{mail}" th:errorclass="err" />
        <div th:if="${#fields.hasErrors('mail')}" th:errors="*{mail}" th:errorclass="err">
        </div>
        </td></tr>
      <tr><td><label for="memo">メモ</label></td>
        <td><textarea name="memo" th:field="*{memo}" cols="20" rows="5"></textarea> </td></tr>
      <tr><td></td><td><input type="submit" /></td></tr>      
    </form>
  </table>
  <hr/>
  <table>
    <tr><th>ID</th><th>NAME</th><th>MAIL</th><th>AGE</th><th>MEMO</th></tr>
    <tr th:each="obj:${datalist}">
      <td th:text="${obj.id}"></td>
      <td th:text="${obj.name}"></td>
      <td th:text="${obj.mail}"></td>
      <td th:text="${obj.age}"></td>
      <td th:text="${obj.memo}"></td>
    </tr>
  </table>
</body>
</html>
